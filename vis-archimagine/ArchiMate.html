<!doctype html>
<html>
<head>
  <title>ArchiMate visualization</title>
  
  <style type="text/css">
  #mynetwork {
  display:block;
  width:1000px; 
  height:800px; 
  border:solid;
  background-color:white;
  top:0px;
  color:#686c70;
  margin-left:5%;
  margin-right:5%;
  margin-bottom:20px;
  background-repeat:no-repeat;
  border:10px solid #ddd;
 
}

  #mynetwork2 {
  display:none;
  width:1000px; 
  height:400px; 
  border:solid;
  background-color:white;
  top:400px;
  color:#686c70;
  margin-left:5%;
  margin-right:5%;
  margin-bottom:20px;
  background-repeat:no-repeat;
  border:10px solid #ddd;
 
}      
      #network-popUp {
          display:none;
          position:absolute;
          top:350px;
          left:170px;
          z-index:299;
          width:250px;
          height:120px;
          background-color: #f9f9f9;
          border-style:solid;
          border-width:3px;
          border-color: #5394ed;
          padding:10px;
          text-align: center;
      }
      
  p {  margin-top: 0.4em; margin-bottom: 0em; }
  
  #toolName
  {
      margin-left:10%;
      margin-right:10%;
      margin-top:10px;
      margin-bottom:10px;
      top:0px;
      background-color:#fff;
      text-align: center;
      text-shadow: 1px 1px lightgray;
  }
  
  #toolDescription,
  #toolVersion,
  #toolUsage
  {
      margin-left:20%;
      margin-right:20%;
      top:0px;
      background-color:#F8F8F8;
           color:grey;

  }
  
   #block {
       margin:0 auto;
       position:absolute;
       height:auto;
       width:auto;
       max-width:1100px;
  }
  #eventSpan,
  #entitiesCheck,
  #relationsDisplay
 {
      top:0;
      color:grey;
      text-align: left;
      overflow: auto;
      background-color:#fff;
      background-repeat:no-repeat;
      margin-left:10%;
      margin-right:10%;
      text-align: justify;
      text-justify: inter-word;

  }
  #relationsCheck
  {
      top:0;
      color:grey;
      text-align: left;
      overflow: auto;
      background-color:#fff;
      background-repeat:no-repeat;
      margin-left:5%;
      margin-right:5%;
      text-align: justify;
      text-justify: inter-word;

  }
 #entitiesCheck
 {
     display:none;
 }
  #eventSpan
  {

      position: absolute;
      right: 100 px;
      left 900 px;
      background-color:#eff;
      position:relative;
      top:0px;
      width: 400px;

  }

  #display
   {
      height:auto;
      width:auto;
      top:0;
      color:#686c70;
      margin-left:10%;
      margin-right:10%;
      background-color:#fff;
      background-repeat:no-repeat;

   }
       
  </style>
  
  <script type="text/javascript" src="./dist/vis.js"></script>
  <link href="./dist/vis-network.min.css" rel="stylesheet" type="text/css" />

  <script type="text/javascript">

    var nodes = null;
    var edges = null;
    var network = null;
    var node=null;
    var edge=null;
    var nodeString=null;
    var edgeString=null;
    var edgeLenght=null;
    var title=null;
    var image=null;
    var images=null;
    var letsDraw=0;
    var data=null;
    var container=null;
    var options=null;

    var DIR = './lib/img/archimate/';
    var EDGE_LENGTH_MAIN = 150;
    var EDGE_LENGTH_SUB = 50;
    var ArchiMateObjects=null;
    var ArchiMateRelations=null;
    var AccessRelationArray=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
    var CompositionRelationArray=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
    var FlowRelationArray=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
    var AggregationRelationArray=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
    var AssignmentRelationArray=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
    var InfluenceRelationArray=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
    var RealizationRelationArray=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
    var SpecializationRelationArray=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
    var TriggeringRelationArray=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
    var ServingRelationArray=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
    var z=0;
    var alreadyConfigured=0;
    var checkedRelations=null;
    var checkedEntities=null;
    var inputRelations=null;
    var inputEntities=null;
    var inputLayers=null;
    var trace=null;

// Called when the Visualization API is loaded.
function draw() {

    destroy();
    nodes = [];
    edges = [];

    document.getElementById("entitiesCheck").style.display='none';
    
    inputRelations = document.getElementsByClassName('relationsCheckbox');
    checkedRelations=[];
    if (document.getElementById("relation").selectedIndex=="0"){document.getElementById("entitiesCheck").style.display='block';}
    else{document.getElementById("entitiesCheck").style.display='none';};
    
    if (document.getElementById("eventDisplay").checked){ document.getElementById("eventSpan").style.display='block';}
    else{document.getElementById("eventSpan").style.display='none';};
    
    if (document.getElementById("parameterDisplay").checked){
        
        var options = {interaction:{hover:false},
            physics:{enabled: true, timestep: 0.5, adaptiveTimestep: true, maxVelocity: 50, minVelocity: 0.1, solver: 'barnesHut',
                barnesHut: { gravitationalConstant: -1000, centralGravity: 0.1, springLength: 95, springConstant: 0.04, damping: 0.09, avoidOverlap: 0}},
            configure: { filter:function (option, path) {
                if (path.indexOf('physics') !== -1) { return true;}
                if (path.indexOf('smooth') !== -1 || option === 'smooth') {return true;} return false;},
            container: document.getElementById('configureDisplay')}
        };
        
        ;}
    else{
        var options = {interaction:{hover:false},
            physics:{enabled: true, timestep: 0.5, adaptiveTimestep: true, maxVelocity: 50, minVelocity: 0.1, solver: 'barnesHut',
                barnesHut: { gravitationalConstant: -1000, centralGravity: 0.1, springLength: 95, springConstant: 0.04, damping: 0.09, avoidOverlap: 0}},
            configure: false
        };
        ;};
    
    

    for(var i=0; inputRelations[i]; ++i){
            if(inputRelations[i].checked){
                checkedRelations.push (inputRelations[i].value);}}
    
    
    inputEntities = document.getElementsByClassName('entitiesCheckbox');
    checkedEntities='';
    for(var i=0; inputEntities[i]; ++i){
            if(inputEntities[i].checked){
                if(checkedEntities==''){      checkedEntities = inputEntities[i].value;}
                else{
                    checkedEntities = checkedEntities+ '-'+ inputEntities[i].value;}
                    }
        }





switch (document.getElementById("relation").selectedIndex){
    case 0:
    trace='';
    for (var i = 0; i < ArchiMateObjects.length-2; i++) {
        image= ArchiMateObjects[i].toLowerCase().replace("_", "-").replace("_", "-");
        nodeString='{'+'"id":'+i+","+'"shape":"image"' +','
        +'"title":"'+ArchiMateObjects[i]+'"'+","+'"shape":"image"' +','
        +'"label":"'+ArchiMateObjects[i]+'"'+','
        +'"image":"./lib/img/archimate/'+image+'.svg"'
        +'}';
        
        node=JSON.parse(nodeString);
        nodes.push(node);
        nodeString=null;
    };

   for (var i = 0; i <58; i++) {
      for (var j = 1; j <59 ; j++) {
        //          edgeString='{from:'+ i+", to:"+ j +",  arrows:{ to: {type: 'circle'}},length: EDGE_LENGTH_MAIN}";
        //         edgeLength=ArchiMateRelations[i][j].length;
        title=ArchiMateRelations[i][j];
        edgeString={
            "from": i,
            "to": j-1,
            "arrows":'to',
            "length": EDGE_LENGTH_MAIN,
            //          "value": 1,
            "title":title
        };
        trace= trace + "i:"+i+ " j:"+ j +" ";
        
         if(inputEntities[i].checked==true) {

            for (var k = 0; k <checkedRelations.length ; k++) {
                  if (ArchiMateRelations[i][j].indexOf(checkedRelations[k])>=0){;
                      edge=JSON.parse(JSON.stringify(edgeString));
                      edges.push(edge);
                      }
            }
         }
      }
   }
   // alert (trace);
    if (document.getElementById('layers').checked){
        nodes.push({id: 200, shape: 'image',label: 'Business Layer', image: DIR + 'business-layer.svg', shape: 'image'});
        nodes.push({id: 300, shape: 'image',label: 'Application Layer', image: DIR + 'application-layer.svg', shape: 'image'});
        nodes.push({id: 400, shape: 'image',label: 'PhysicalTechnology Layer', image: DIR + 'physical-technology-layer.svg', shape: 'image'});
        nodes.push({id: 500, shape: 'image',label: 'Motivation', image: DIR + 'motivation-layer.svg', shape: 'image'});
        nodes.push({id: 600, shape: 'image',label: 'Other', image: DIR + 'other-layer.svg', shape: 'image'});
        nodes.push({id: 700, shape: 'image',label: 'ImplementationMigration', image: DIR + 'implementation-migration-layer.svg', shape: 'image'});
        nodes.push({id: 800, shape: 'image',label: 'Strategy', image: DIR + 'strategy-layer.svg', shape: 'image'});
        for (var i = 0; i <= 2; i++) {edges.push({from: 800, to: i,  arrows:'to', length: EDGE_LENGTH_MAIN});}
        for (var i = 3; i <= 15; i++) {edges.push({from: 200, to: i,arrows:'to', length: EDGE_LENGTH_MAIN});}
        for (var i = 16; i <= 24; i++) {edges.push({from: 300, to: i, arrows:'to',length: EDGE_LENGTH_MAIN});}
        for (var i = 25; i <= 41; i++) {edges.push({from: 400, to: i, arrows:'to',length: EDGE_LENGTH_MAIN});}
        for (var i = 42; i <= 51; i++) {edges.push({from: 500, to: i, arrows:'to',length: EDGE_LENGTH_MAIN});}
        for (var i = 52; i <= 56; i++) {edges.push({from: 700, to: i, arrows:'to',length: EDGE_LENGTH_MAIN});}
        for (var i = 57; i <= 59; i++) {edges.push({from: 600, to: i, arrows:'to',length: EDGE_LENGTH_MAIN});}
    }
    break;
    case 1:
    for (var i = 0; i < AccessRelationArray.length; i++) {
        if (AccessRelationArray[i]=="1"){
            image= ArchiMateObjects[i].toLowerCase().replace("_", "-").replace("_", "-");
            nodeString='{'+'"id":'+i+","+'"shape":"image"' +','
            +'"title":"'+ArchiMateObjects[i]+'"'+","+'"shape":"image"' +','
            +'"label":"'+ArchiMateObjects[i]+'"'+','
            +'"image":"./lib/img/archimate/'+image+'.svg"'
            +'}';
            node=JSON.parse(nodeString);
            nodes.push(node);
            nodeString=null;
        };
    }

   for (var i = 0; i <58; i++) {
       for (var j = 1; j <59 ; j++) {
          if (ArchiMateRelations[i][j].indexOf('a')>=0){
              title=ArchiMateRelations[i][j];
              edgeString={
                  "from": i,
                  "to": j-1,
                  "arrows":'to',
                  "length": EDGE_LENGTH_MAIN,
                  "title":title
              };
             edge=JSON.parse(JSON.stringify(edgeString));
             edges.push(edge);
          }
       }
   }

    break;
    
    
    case 2:
    for (var i = 0; i < CompositionRelationArray.length; i++) {
        if (CompositionRelationArray[i]=="1"){
            image= ArchiMateObjects[i].toLowerCase().replace("_", "-").replace("_", "-");
            nodeString='{'+'"id":'+i+","+'"shape":"image"' +','
            +'"title":"'+ArchiMateObjects[i]+'"'+","+'"shape":"image"' +','
            +'"label":"'+ArchiMateObjects[i]+'"'+','
            +'"image":"./lib/img/archimate/'+image+'.svg"'
            +'}';
            node=JSON.parse(nodeString);
            nodes.push(node);
            nodeString=null;
        }
    }
    for (var i = 0; i <58; i++) {
        for (var j = 1; j <59 ; j++) {
            if (ArchiMateRelations[i][j].indexOf('c')>=0){
                title=ArchiMateRelations[i][j];
                edgeString={
                    "from": i,
                    "to": j-1,
                    "arrows":'to',
                    "length": EDGE_LENGTH_MAIN,
                    "title":title
                };
                edge=JSON.parse(JSON.stringify(edgeString));
                edges.push(edge);
            }
        }
    }
    break;
    case 3:
    for (var i = 0; i < FlowRelationArray.length; i++) {
        if (FlowRelationArray[i]=="1"){
            image= ArchiMateObjects[i].toLowerCase().replace("_", "-").replace("_", "-");
            nodeString='{'+'"id":'+i+","+'"shape":"image"' +','
            +'"title":"'+ArchiMateObjects[i]+'"'+","+'"shape":"image"' +','
            +'"label":"'+ArchiMateObjects[i]+'"'+','
            +'"image":"./lib/img/archimate/'+image+'.svg"'
            +'}';
            node=JSON.parse(nodeString);
            nodes.push(node);
            nodeString=null;
        }
    }
    for (var i = 0; i <58; i++) {
        for (var j = 1; j <59 ; j++) {
            if (ArchiMateRelations[i][j].indexOf('f')>=0){
                title=ArchiMateRelations[i][j];
                edgeString={
                    "from": i,
                    "to": j-1,
                    "arrows":'to',
                    "length": EDGE_LENGTH_MAIN,
                    "title":title
                };
                edge=JSON.parse(JSON.stringify(edgeString));
                edges.push(edge);
            }
        }
    }
    break;
    case 4:
    for (var i = 0; i < AggregationRelationArray.length; i++) {
        if (AggregationRelationArray[i]=="1"){
            image= ArchiMateObjects[i].toLowerCase().replace("_", "-").replace("_", "-");
            nodeString='{'+'"id":'+i+","+'"shape":"image"' +','
            +'"title":"'+ArchiMateObjects[i]+'"'+","+'"shape":"image"' +','
            +'"label":"'+ArchiMateObjects[i]+'"'+','
            +'"image":"./lib/img/archimate/'+image+'.svg"'
            +'}';
             node=JSON.parse(nodeString);
            nodes.push(node);
            nodeString=null;
        }
    }
    for (var i = 0; i <58; i++) {
        for (var j = 1; j <59 ; j++) {
            if (ArchiMateRelations[i][j].indexOf('g')>=0){
                title=ArchiMateRelations[i][j];
                edgeString={
                    "from": i,
                    "to": j-1,
                    "arrows":'to',
                    "length": EDGE_LENGTH_MAIN,
                    "title":title
                };
                edge=JSON.parse(JSON.stringify(edgeString));
                edges.push(edge);
            }
        }
    }
    break;
    
    
    case 5:
    for (var i = 0; i < AssignmentRelationArray.length; i++) {
        if (AssignmentRelationArray[i]=="1"){
            image= ArchiMateObjects[i].toLowerCase().replace("_", "-").replace("_", "-");
            nodeString='{'+'"id":'+i+","+'"shape":"image"' +','
            +'"title":"'+ArchiMateObjects[i]+'"'+","+'"shape":"image"' +','
            +'"label":"'+ArchiMateObjects[i]+'"'+','
            +'"image":"./lib/img/archimate/'+image+'.svg"'
            +'}';
            node=JSON.parse(nodeString);
            nodes.push(node);
            nodeString=null;
        }
    }
    for (var i = 0; i <58; i++) {
        for (var j = 1; j <59 ; j++) {
            if (ArchiMateRelations[i][j].indexOf('i')>=0){
                title=ArchiMateRelations[i][j];
                edgeString={
                    "from": i,
                    "to": j-1,
                    "arrows":'to',
                    "length": EDGE_LENGTH_MAIN,
                    "title":title
                };
                edge=JSON.parse(JSON.stringify(edgeString));
                edges.push(edge);
            }
        }
    }
    break;
    case 6:
    for (var i = 0; i < InfluenceRelationArray.length; i++) {
        if (InfluenceRelationArray[i]=="1"){
            image= ArchiMateObjects[i].toLowerCase().replace("_", "-").replace("_", "-");
            nodeString='{'+'"id":'+i+","+'"shape":"image"' +','
            +'"title":"'+ArchiMateObjects[i]+'"'+","+'"shape":"image"' +','
            +'"label":"'+ArchiMateObjects[i]+'"'+','
            +'"image":"./lib/img/archimate/'+image+'.svg"'
            +'}';
            node=JSON.parse(nodeString);
            nodes.push(node);
            nodeString=null;
        }
    }
    for (var i = 0; i <58; i++) {
        for (var j = 1; j <59 ; j++) {
            if (ArchiMateRelations[i][j].indexOf('n')>=0){
                title=ArchiMateRelations[i][j];
                edgeString={
                    "from": i,
                    "to": j-1,
                    "arrows":'to',
                    "length": EDGE_LENGTH_MAIN,
                    "title":title
                };
                edge=JSON.parse(JSON.stringify(edgeString));
                edges.push(edge);
            }
        }
    }
    break;
    case 7:
    for (var i = 0; i < RealizationRelationArray.length; i++) {
        if (RealizationRelationArray[i]=="1"){
            image= ArchiMateObjects[i].toLowerCase().replace("_", "-").replace("_", "-");
            nodeString='{'+'"id":'+i+","+'"shape":"image"' +','
            +'"title":"'+ArchiMateObjects[i]+'"'+","+'"shape":"image"' +','
            +'"label":"'+ArchiMateObjects[i]+'"'+','
            +'"image":"./lib/img/archimate/'+image+'.svg"'
            +'}';
            node=JSON.parse(nodeString);
            nodes.push(node);
            nodeString=null;
        }
    }
    for (var i = 0; i <58; i++) {
        for (var j = 1; j <59 ; j++) {
            if (ArchiMateRelations[i][j].indexOf('r')>=0){
                title=ArchiMateRelations[i][j];
                edgeString={
                    "from": i,
                    "to": j-1,
                    "arrows":'to',
                    "length": EDGE_LENGTH_MAIN,
                    "title":title
                };
                edge=JSON.parse(JSON.stringify(edgeString));
                edges.push(edge);
            }
        }
    }
    break;
    
    case 8:
    for (var i = 0; i < SpecializationRelationArray.length; i++) {
        if (SpecializationRelationArray[i]=="1"){
            image= ArchiMateObjects[i].toLowerCase().replace("_", "-").replace("_", "-");
            nodeString='{'+'"id":'+i+","+'"shape":"image"' +','
            +'"title":"'+ArchiMateObjects[i]+'"'+","+'"shape":"image"' +','
            +'"label":"'+ArchiMateObjects[i]+'"'+','
            +'"image":"./lib/img/archimate/'+image+'.svg"'
            +'}';
            node=JSON.parse(nodeString);
            nodes.push(node);
            nodeString=null;
        }
    }
    for (var i = 0; i <58; i++) {
        for (var j = 1; j <59 ; j++) {
            if (ArchiMateRelations[i][j].indexOf('s')>=0){
                title=ArchiMateRelations[i][j];
                edgeString={
                    "from": i,
                    "to": j-1,
                    "arrows":'to',
                    "length": EDGE_LENGTH_MAIN,
                    "title":title
                };
                edge=JSON.parse(JSON.stringify(edgeString));
                edges.push(edge);
            }
        }
    }
    break;
    case 9:
    for (var i = 0; i < TriggeringRelationArray.length; i++) {
        if (TriggeringRelationArray[i]=="1"){
            image= ArchiMateObjects[i].toLowerCase().replace("_", "-").replace("_", "-");
            nodeString='{'+'"id":'+i+","+'"shape":"image"' +','
            +'"title":"'+ArchiMateObjects[i]+'"'+","+'"shape":"image"' +','
            +'"label":"'+ArchiMateObjects[i]+'"'+','
            +'"image":"./lib/img/archimate/'+image+'.svg"'
            +'}';
            node=JSON.parse(nodeString);
            nodes.push(node);
            nodeString=null;
        }
    }
    for (var i = 0; i <58; i++) {
        for (var j = 1; j <59 ; j++) {
            if (ArchiMateRelations[i][j].indexOf('t')>=0){
                title=ArchiMateRelations[i][j];
                edgeString={
                    "from": i,
                    "to": j-1,
                    "arrows":'to',
                    "length": EDGE_LENGTH_MAIN,
                    "title":title
                };
                edge=JSON.parse(JSON.stringify(edgeString));
                edges.push(edge);
            }
        }
    }
    break;
    case 10:
    for (var i = 0; i < ServingRelationArray.length; i++) {
        if (ServingRelationArray[i]=="1"){
            image= ArchiMateObjects[i].toLowerCase().replace("_", "-").replace("_", "-");
            nodeString='{'+'"id":'+i+","+'"shape":"image"' +','
            +'"title":"'+ArchiMateObjects[i]+'"'+","+'"shape":"image"' +','
            +'"label":"'+ArchiMateObjects[i]+'"'+','
            +'"image":"./lib/img/archimate/'+image+'.svg"'
            +'}';
            node=JSON.parse(nodeString);
            nodes.push(node);
            nodeString=null;
        }
    }
    for (var i = 0; i <58; i++) {
        for (var j = 1; j <59 ; j++) {
            if (ArchiMateRelations[i][j].indexOf('v')>=0){
                title=ArchiMateRelations[i][j];
                edgeString={
                    "from": i,
                    "to": j-1,
                    "arrows":'to',
                    "length": EDGE_LENGTH_MAIN,
                    "title":title
                };
                edge=JSON.parse(JSON.stringify(edgeString));
                edges.push(edge);
            }
        }
    }
    break;
    
    default:
    nodes.push({id: 200, shape: 'image',label: 'TO BE DONE', image: DIR + 'business-layer.svg', shape: 'image'});
    
    
}

//alert(checkedEntities);
//alert (ArchiMateObjects.length);
//alert (ArchiMateRelations.length);
container = document.getElementById('mynetwork');
    data = {
        nodes: nodes,
        edges: edges
    };
    document.getElementById("mynetwork").innerHTML = "";
    network = new vis.Network(container, data, options);
    network.on("doubleClick", function (params) {
               params.event = "[original event]";
               document.getElementById('eventSpan').innerHTML = '<h2>doubleClick event:</h2>' + JSON.stringify(params, null, 4);
               draw();
               });
    network.on("click", function (params) {
      params.event = "[original event]";
      document.getElementById('eventSpan').innerHTML = '<h2>Click event:</h2>' + JSON.stringify(params, null, 4);
      console.log('click event, getNodeAt returns: ' + this.getNodeAt(params.pointer.DOM));
      });
                          
    network.on("oncontext", function (params) {
      params.event = "[original event]";
      document.getElementById('eventSpan').innerHTML = '<h2>oncontext (right click) event:</h2>' + JSON.stringify(params, null, 4);
      });
    network.on("dragStart", function (params) {
      params.event = "[original event]";
      document.getElementById('eventSpan').innerHTML = '<h2>dragStart event:</h2>' + JSON.stringify(params, null, 4);
      });
    network.on("dragging", function (params) {
      params.event = "[original event]";
      document.getElementById('eventSpan').innerHTML = '<h2>dragging event:</h2>' + JSON.stringify(params, null, 4);
      });
   network.on("dragEnd", function (params) {
      params.event = "[original event]";
      document.getElementById('eventSpan').innerHTML = '<h2>dragEnd event:</h2>' + JSON.stringify(params, null, 4);
      });
   network.on("zoom", function (params) {
      document.getElementById('eventSpan').innerHTML = '<h2>zoom event:</h2>' + JSON.stringify(params, null, 4);
      });
   network.on("showPopup", function (params) {
      document.getElementById('eventSpan').innerHTML = '<h2>showPopup event: </h2>' + JSON.stringify(params, null, 4);
      });
   network.on("hidePopup", function () {
      console.log('hidePopup Event');
      });
   network.on("select", function (params) {
      console.log('select Event:', params);
      });
   network.on("selectNode", function (params) {
      console.log('selectNode Event:', params);
      });
   network.on("selectEdge", function (params) {
      console.log('selectEdge Event:', params);
      });
   network.on("deselectNode", function (params) {
      console.log('deselectNode Event:', params);
      });
   network.on("deselectEdge", function (params) {
      console.log('deselectEdge Event:', params);
      });
   network.on("hoverNode", function (params) {
      console.log('hoverNode Event:', params);
      });
   network.on("hoverEdge", function (params) {
      console.log('hoverEdge Event:', params);
      });
   network.on("blurNode", function (params) {
      console.log('blurNode Event:', params);
      });
   network.on("blurEdge", function (params) {
      console.log('blurEdge Event:', params);
      });

}

function destroy() {
    if (network !== null) {
        network.destroy();
        network = null;
    }
}
  function clearPopUp() {
      document.getElementById('saveButton').onclick = null;
      document.getElementById('cancelButton').onclick = null;
      document.getElementById('network-popUp').style.display = 'none';
  }
  
  function cancelEdit(callback) {
      clearPopUp();
      callback(null);
  }
  
  function saveData(data,callback) {
      data.id = document.getElementById('node-id').value;
      data.label = document.getElementById('node-label').value;
      clearPopUp();
      callback(data);
  }

function initArchiMate(){
    
        alert("Welcome to ArchiMagine Vis viewer for ArchiMate\nAuthor: Dr Nicolas Figay\nMotivation: ArchiMate visual exploration");
        
        ArchiMateObjects=["Resource","Capability", "Course_Of_Action","Actor","Business_Role", "Business_Collaboration", "Business_Interface", "Business_Process", "Business_Function", "Business_Interaction", "Business_Event", "Business_Service", "Business_Object", "Contract", "Representation", "Product", "Application_Component", "Application_Collaboration", "Application_Interface", "Application_Function", "Application_Interaction", "Application_Process", "Application_Event","Application_Service", "Data_Object", "Node", "Device", "System_Software","Technology_Collaboration", "Technology_Interface", "Path","Communication_Network", "Technology_Function", "Technology_Process", "Technology_Interaction", "Technology_Event", "Technology_Service", "Artifact", "Equipment", "Facility", "Distribution_Network", "Material", "Stakeholder", "Driver", "Assessment", "Goal", "Outcome", "Principle", "Requirement", "Constraint", "Meaning", "Value", "WorkPackage", "Deliverable", "Implementation_Event", "Plateau", "Gap", "Location", "Grouping", "Junction"];
        ArchiMateRelations=
        [
         [ "Resource",
          "cfgost", "fiotv", "forv",
          "o","o","o","o","o","o","o","o","o","o","o","o","o",
          "o","o","o","o","o","o","o","o","o",
          "o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o",
          "o","no","no","nor","nor","nor","nor","nor","no","no",
          "o","o","o","o","o","o",
          "cfgionrstv","fionrt" ],
         [ "Capability",
          "fot", "cfgostv", "forv",
          "o","o","o","o","o","o","o","o","o","o","o","o","o",
          "o","o","o","o","o","o","o","o","o",
          "o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o",
          "o","no","no","nor","nor","nor","nor","nor","no","no",
          "o","o","o","o","o","o",
          "cfgnorstv","fnortv" ],
         [ "Course_Of_Action",
          "fo", "fo", "cfgostv",
          "o","o","o","o","o","o","o","o","o","o","o","o","o",
          "o","o","o","o","o","o","o","o","o",
          "o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o",
          "o","no","no","nor","nor","nor","nor","nor","no","no",
          "o","o","o","o","o","o",
          "cfgnorstv","fnortv" ],
         [ "Actor",
          "or", "or", "or",
          "cfgostv","fiotv","fotv","cfgiotv","fiotv","fiotv","fiotv","fiotv","fiortv","ao","ao","ao","fo",
          "fotv","fotv","fotv","fotv","fotv","fotv","otv","fotv","ao",
          "fotv","fotv","fotv","fotv","fotv","fot","fot","fotv","fotv","fotv","otv","fotv","ao","fotv","fotv","fot","ao",
          "ino","no","no","nor","nor","nor","nor","nor","no","no",
          "o","o","o","o","o","fot",
          "acfginorstv","afinortv" ],
         [ "Business_Role",
          "or", "or", "or",
          "fotv","cfgostv","fotv","cfgotv","fiotv","fiotv","fiotv","fiotv","fiortv","ao","ao","ao","fo",
          "fotv","fotv","fotv","fotv","fotv","fotv","otv","fotv","ao",
          "fotv","fotv","fotv","fotv","fotv","fot","fot","fotv","fotv","fotv","otv","fotv","ao","fotv","fotv","fot","ao",
          "no","no","no","nor","nor","nor","nor","nor","no","no",
          "io","o","io","o","o","fot",
          "acfginorstv","afinortv" ],
         [ "Business_Collaboration",
          "or", "or", "or",
          "fgotv","fgiotv","cfgostv","cfgiotv","fiotv","fiotv","fiotv","fiotv","fiortv","ao","ao","ao","fo",
          "fotv","fotv","fotv","fotv","fotv","fotv","otv","fotv","ao",
          "fotv","fotv","fotv","fotv","fotv","fot","fot","fotv","fotv","fotv","otv","fotv","ao","fotv","fotv","fot","ao",
          "no","no","no","nor","nor","nor","nor","nor","no","no",
          "o","o","o","o","o","fot",
          "acfginorstv","afinortv" ],
         [ "Business_Interface",
          "or", "or", "or",
          "fotv","fotv","fotv","cfgostv","fotv","fotv","fotv","fotv","fiotv","ao","ao","ao","fo",
          "fotv","fotv","fotv","fotv","fotv","fotv","otv","fotv","ao",
          "fotv","fotv","fotv","fotv","fotv","fot","fot","fotv","fotv","fotv","otv","fotv","ao","fotv","fotv","fot","ao",
          "no","no","no","nor","nor","nor","nor","nor","no","no",
          "o","o","o","o","o","fot",
          "acfginorstv","afinortv" ],
         [ "Business_Process",
          "o", "or", "or",
          "fotv","fotv","fotv","fotv","cfgostv","cfgotv","cfgotv","fotv","fortv","ao","ao","ao","fo",
          "fotv","fotv","fotv","fotv","fotv","fotv","otv","fotv","ao",
          "fotv","fotv","fotv","fotv","fotv","fot","fot","fotv","fotv","fotv","otv","fotv","ao","fotv","fotv","fot","ao",
          "no","no","no","nor","nor","nor","nor","nor","no","no",
          "o","o","o","o","o","fot",
          "acfgnorstv","afnortv" ],
         [ "Business_Function",
          "o", "or", "or",
          "fotv","fotv","fotv","fotv","cfgotv","cfgostv","cfgotv","fotv","fortv","ao","ao","ao","fo",
          "fotv","fotv","fotv","fotv","fotv","fotv","otv","fotv","ao",
          "fotv","fotv","fotv","fotv","fotv","fot","fot","fotv","fotv","fotv","otv","fotv","ao","fotv","fotv","fot","ao",
          "no","no","no","nor","nor","nor","nor","nor","no","no",
          "o","o","o","o","o","fot",
          "acfgnorstv","afnortv" ],
         [ "Business_Interaction",
          "o", "or", "or",
          "fotv","fotv","fotv","fotv","cfgotv","cfgotv","cfgostv","fotv","fortv","ao","ao","ao","fo",
          "fotv","fotv","fotv","fotv","fotv","fotv","otv","fotv","ao",
          "fotv","fotv","fotv","fotv","fotv","fot","fot","fotv","fotv","fotv","otv","fotv","ao","fotv","fotv","fot","ao",
          "no","no","no","nor","nor","nor","nor","nor","no","no",
          "o","o","o","o","o","fot",
          "acfgnorstv","afnortv" ],       
         [ "Business_Event",
          "o", "o", "o",
          "fot","fot","fot","fot","fot","fot","fot","cfgost","fot","ao","ao","ao","fo",
          "fot","fot","fot","fot","fot","fot","ot","fot","o",
          "fot","fot","fot","fot","fot","fot","fot","fot","fot","fot","ot","fot","o","fot","fot","fot","o",
          "o","no","no","nor","nor","nor","nor","nor","no","no",
          "o","o","o","o","o","fot",
          "acfgnorst","afnort" ],
          [ "Business_Service",
          "o", "or", "or",
          "fotv","fotv","fotv","fotv","fotv","fotv","fotv","fotv","cfgostv","ao","ao","ao","fo",
          "fotv","fotv","fotv","fotv","fotv","fotv","otv","fotv","ao",
          "fotv","fotv","fotv","fotv","fotv","fot","fot","fotv","fotv","fotv","otv","fotv","ao","fotv","fotv","fot","ao",
          "no","no","no","nor","nor","nor","nor","nor","no","no",
          "o","o","o","o","o","fot",
          "acfgnorstv","afnortv" ],  
         [ "Business_Object",
          "or", "or", "or",
          "o","o","o","o","o","o","o","o","o","cgos","cgos","o","o",
          "o","o","o","o","o","o","o","o","o",
          "o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o",
          "o","no","no","nor","nor","nor","nor","nor","no","no",
          "o","o","o","o","o","o",
          "cgnors","nor" ],
         [ "Contract",
          "or", "or", "or",
          "o","o","o","o","o","o","o","o","o","cgos","cgos","o","o",
          "o","o","o","o","o","o","o","o","o",
          "o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o",
          "o","no","no","nor","nor","nor","nor","nor","no","no",
          "o","o","o","o","o","o",
          "cgnors","nor" ],
         [  "Representation",
          "or", "or", "or",
          "o","o","o","o","o","o","o","o","o","or","or","cgos","o",
          "o","o","o","o","o","o","o","o","o",
          "o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o",
          "o","no","no","nor","nor","nor","nor","nor","no","no",
          "o","o","o","o","o","o",
          "cgnors","nor" ],
         [ "Product",
          "or", "or", "or",
          "forv","forv","fov","forv","forv","forv","forv","forv","cfgorv","acgo","acgo","acgo","cfgos",
          "forv","forv","forv","forv","forv","forv","forv","cfgorv","acgo",
          "forv","forv","forv","forv","forv","fo","fo","forv","forv","forv","forv","cfgorv","acgo","forv","forv","fo","acgo",
          "nor","no","no","nor","nor","nor","nor","nor","no","no",
          "o","o","o","o","o","fo",
          "acfgnorsv","afnorv" ],
         [ "Application_Component",
          "or", "or", "or",
          "fotv","fotv","fotv","fortv","fortv","fortv","fortv","fotv","fortv","ao","ao","ao","fo",
          "cfgorstv","cfgorstv","cfgortv","fiortv","fiortv","fiortv","fiortv","fiortv","ao",
          "fotv","fotv","fotv","fotv","fotv","fot","fot","fotv","fotv","fotv","otv","fotv","ao","fotv","fotv","fot","ao",
          "no","no","no","nor","nor","nor","nor","nor","no","no",
          "o","o","o","o","o","fot",
          "acfginorstv","afinortv" ],
         [ "Application_Collaboration",
          "or", "or", "or",
          "fotv","fotv","fotv","fortv","fortv","fortv","fortv","fotv","fortv","ao","ao","ao","fo",
          "cfgorstv","cfgorstv","cfgortv","fiortv","fiortv","fiortv","fiortv","fiortv","ao",
          "fotv","fotv","fotv","fotv","fotv","fot","fot","fotv","fotv","fotv","otv","fotv","ao","fotv","fotv","fot","ao",
          "no","no","no","nor","nor","nor","nor","nor","no","no",
          "o","o","o","o","o","fot",
          "acfginorstv","afinortv" ],
         [ "Application_Interface",
          "or", "or", "or",
          "fotv","fotv","fotv","fortv","fotv","forv","forv","fotv","fortv","ao","ao","ao","fo",
          "fotv","fotv","cfgostv","fotv","fotv","fotv","fotv","fiotv","ao",
          "fotv","fotv","fotv","fotv","fotv","fot","fot","fotv","fotv","fotv","otv","fotv","ao","fotv","fotv","fot","ao",
          "no","no","no","nor","nor","nor","nor","nor","no","no",
          "o","o","o","o","o","fot",
          "acfginorstv","afinortv" ],
         [ "Application_Function",
          "o", "or", "or",
          "fotv","fotv","fotv","fotv","fortv","fortv","fortv","fotv","fortv","ao","ao","ao","fo",
          "fotv","fotv","fotv","cfgostv","cfgotv","cfgotv","fotv","fortv","ao",
          "fotv","fotv","fotv","fotv","fotv","fot","fot","fotv","fotv","fotv","otv","fotv","ao","fotv","fotv","fot","ao",
          "no","no","no","nor","nor","nor","nor","nor","no","no",
          "o","o","o","o","o","fot",
          "acfgnorstv","afnortv" ],
         [ "Application_Interaction",
          "o", "or", "or",
          "fotv","fotv","fotv","fotv","fortv","fortv","fortv","fotv","fortv","ao","ao","ao","fo",
          "fotv","fotv","fotv","cfgotv","cfgostv","cfgotv","fotv","fortv","ao",
          "fotv","fotv","fotv","fotv","fotv","fot","fot","fotv","fotv","fotv","otv","fotv","ao","fotv","fotv","fot","ao",
          "no","no","no","nor","nor","nor","nor","nor","no","no",
          "o","o","o","o","o","fot",
          "acfgnorstv","afnortv" ],
         [ "Application_Process",
          "o", "or", "or",
          "fotv","fotv","fotv","fotv","fortv","fortv","fortv","fotv","fortv","ao","ao","ao","fo",
          "fotv","fotv","fotv","cfgotv","cfgotv","cfgostv","fotv","fortv","ao",
          "fotv","fotv","fotv","fotv","fotv","fot","fot","fotv","fotv","fotv","otv","fotv","ao","fotv","fotv","fot","ao",
          "no","no","no","nor","nor","nor","nor","nor","no","no",
          "o","o","o","o","o","fot",
          "acfgnorstv","afnortv" ],
         [ "Application_Event",
          "o", "o", "o",
          "ot","ot","ot","ot","ot","ot","ot","ot","ot","ao","ao","o","fo",
          "fot","fot","fot","fot","fot","fot","cfgost","fot","ao",
          "fot","fot","fot","fot","fot","fot","fot","fot","fot","fot","ot","fot","o","fot","fot","fot","o",
          "o","no","no","nor","nor","nor","nor","nor","no","no",
          "o","o","o","o","o","fot",
          "acfgnorst","afnort" ],
         [ "Application_Service",
          "o", "or", "or",
          "fotv","fotv","fotv","fotv","fotv","fortv","fotv","fotv","fortv","ao","ao","ao","fo",
          "fotv","fotv","fotv","fotv","fotv","fotv","fotv","cfgostv","ao",
          "fotv","fotv","fotv","fotv","fotv","fot","fot","fotv","fotv","fotv","otv","fotv","ao","fotv","fotv","fot","ao",
          "no","no","no","nor","nor","nor","nor","nor","no","no",
          "o","o","o","o","o","fot",
          "acfgnorstv","afnortv" ],
         [ "Data_Object",
          "or", "or", "or",
          "o","o","o","o","o","o","o","o","o","or","or","o","o",
          "o","o","o","o","o","o","o","o","cgos",
          "o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o",
          "o","no","no","nor","nor","nor","nor","nor","no","no",
          "o","o","o","o","o","o",
          "cgnors","nor" ],
         [ "Node",
          "or", "or", "or",
          "fiortv","fiortv","fotv","fiortv","fiortv","fiortv","fiorv","fiortv","fiortv","ao","ao","ao","fo",
          "fortv","fortv","fortv","fortv","fortv","fortv","fortv","fortv","ao",
          "cfgiorstv","cfgiorstv","cfgiorstv","cfgiorstv","cfgiortv","fot","fot","fiortv","fiortv","fiortv","fiortv","fiortv","aio","cfgiorstv","cfgiorstv","fot","ao",
          "nor","no","no","nor","nor","nor","nor","nor","no","no",
          "o","o","o","o","o","fot",
          "acfginorstv","afinortv" ],
         [ "Device",
          "or", "or", "or",
          "fiortv","fiortv","fotv","fiortv","fiortv","fiortv","fiorv","fiortv","fiortv","ao","ao","ao","fo",
          "fortv","fortv","fortv","fortv","fortv","fortv","fortv","fortv","ao",
          "cfgiorstv","cfgiorstv","cfgiorstv","cfgiorstv","cfgiortv","fot","fot","fiortv","fiortv","fiortv","fiortv","fiortv","aio","cfgiorstv","cfgiorstv","fot","ao",
          "nor","no","no","nor","nor","nor","nor","nor","no","no",
          "o","o","o","o","o","fot",
          "acfginorstv","afinortv" ],
         [ "System_Software",
          "or", "or", "or",
          "fiortv","fiortv","fotv","fiortv","fiortv","fiortv","fiortv","fiortv","fiortv","ao","ao","ao","fo",
          "fortv","fortv","fortv","fortv","fortv","fortv","fortv","fortv","ao",
          "cfgiorstv","cfgiorstv","cfgiorstv","cfgiorstv","cfgiortv","fot","fot","fiortv","fiortv","fiortv","fiortv","fiortv","aio","cfgiorstv","cfgiorstv","fot","ao",
          "nor","no","no","nor","nor","nor","nor","nor","no","no",
          "o","o","o","o","o","fot",
          "acfginorstv","afinortv" ],
         [ "Technology_Collaboration",
          "or", "or", "or",
          "fiortv","fiortv","fotv","fiortv","fiortv","fiortv","fiorv","fiortv","fiortv","ao","ao","ao","fo",
          "fortv","fortv","fortv","fortv","fortv","fortv","fortv","fortv","ao",
          "cfgiorstv","cfgiorstv","cfgiorstv","cfgiorstv","cfgiortv","fot","fot","fiortv","fiortv","fiortv","fiortv","fiortv","aio","cfgiorstv","cfgiorstv","fot","ao",
          "nor","no","no","nor","nor","nor","nor","nor","no","no",
          "o","o","o","o","o","fot",
          "acfginorstv","afinortv" ],
         [ "Technology_Interface",
          "or", "or", "or",
          "fotv","fotv","fotv","fortv","fotv","fotv","fotv","fotv","fortv","ao","ao","ao","fo",
          "fotv","fotv","fortv","fotv","fotv","fotv","fotv","fortv","ao",
          "fotv","fotv","fotv","fotv","cfgostv","fot","fot","fotv","fotv","fotv","fotv","fiotv","ao","fotv","fotv","fot","ao",
          "no","no","no","nor","nor","nor","nor","nor","no","no",
          "o","o","o","o","o","fot",
          "acfginorstv","afinortv" ],
         [ "Path",
          "or", "or", "or",
          "fiortv","fiortv","fotv","fiortv","fiortv","fiortv","fiortv","fiortv","fiortv","ao","ao","ao","fo",
          "fortv","fortv","fortv","fortv","fortv","fortv","fortv","fortv","ao",
          "fgiortv","fgiortv","fgiortv","fgiortv","fgiortv","cfgost","fot","fiortv","fiortv","fiortv","fiortv","fiortv","ao","fgiortv","fgiortv","fot","ao",
          "nor","no","no","nor","nor","nor","nor","nor","no","no",
          "o","o","o","o","o","fot",
          "acfgiorstv","afinortv" ],
         [ "Communication_Nerwork",
          "or", "or", "or",
          "fiortv","fiortv","fotv","fiortv","fiortv","fiortv","fiortv","fiortv","fiortv","ao","ao","ao","fo",
          "fortv","fortv","fortv","fortv","fortv","fortv","fortv","fortv","ao",
          "fgiortv","fgiortv","fgiortv","fgiortv","fgiortv","fort","cfgost","fiortv","fiortv","fiortv","fiortv","fiortv","ao","fgiortv","fgiortv","fot","ao",
          "nor","no","no","nor","nor","nor","nor","nor","no","no",
          "o","o","o","o","o","fot",
          "acfgiorstv","afinortv" ],
         [ "Technology_Function",
          "o", "or", "or",
          "fotv","fotv","fotv","fotv","fortv","fortv","fortv","fotv","fortv","ao","ao","ao","fo",
          "fotv","fotv","fotv","fortv","fortv","fortv","fotv","fortv","ao",
          "fotv","fotv","fotv","fotv","fotv","fot","fot","cfgostv","cfgotv","cfgotv","fotv","fortv","ao","fotv","fotv","fot","ao",
          "no","no","no","nor","nor","nor","nor","nor","no","no",
          "o","o","o","o","o","fot",
          "acfgnorstv","afnortv" ],
         [ "Technology_Process",
          "o", "or", "or",
          "fotv","fotv","fotv","fotv","fortv","fortv","fortv","fotv","fortv","ao","ao","ao","fo",
          "fotv","fotv","fotv","fortv","fortv","fortv","fotv","fortv","ao",
          "fotv","fotv","fotv","fotv","fotv","fot","fot","cfgotv","cfgostv","cfgotv","fotv","fortv","ao","fotv","fotv","fot","ao",
          "no","no","no","nor","nor","nor","nor","nor","no","no",
          "o","o","o","o","o","fot",
          "acfgnorstv","afnortv" ],
         [ "Technology_Interaction",
          "o", "or", "or",
          "fotv","fotv","fotv","fotv","fortv","fortv","fortv","fotv","fortv","ao","ao","ao","fo",
          "fotv","fotv","fotv","fortv","fortv","fortv","fotv","fortv","ao",
          "fotv","fotv","fotv","fotv","fotv","fot","fot","cfgotv","cfgotv","cfgostv","fotv","fortv","ao","fotv","fotv","fot","ao",
          "no","no","no","nor","nor","nor","nor","nor","no","no",
          "o","o","o","o","o","fot",
          "acfgnorstv","afnortv" ],
         [ "Technology_Event",
          "o", "o", "o",
          "ot","ot","ot","ot","ot","ot","ot","ot","ot","ao","ao","ao","fo",
          "ot","ot","ot","ot","ot","ot","ot","ot","ao",
          "fot","fot","fot","fot","fot","fot","fot","fot","fot","fot","cfgost","fot","ao","fot","fot","fot","ao",
          "no","no","no","nor","nor","nor","nor","nor","no","no",
          "o","o","o","o","o","fot",
          "acfgnorst","afnort" ],
         [ "Technology_Service",
          "o", "or", "or",
          "fotv","fotv","fotv","fotv","fortv","fortv","fortv","fotv","fortv","ao","ao","ao","fo",
          "fotv","fotv","fotv","fotv","fotv","fotv","fotv","fortv","ao",
          "fotv","fotv","fotv","fotv","fotv","fot","fot","fotv","fotv","fotv","fotv","cfgostv","ao","fotv","fotv","fot","ao",
          "no","no","no","nor","nor","nor","nor","nor","no","no",
          "o","o","o","o","o","fot",
          "acfgorstv","afnortv" ],
         [ "Artifact",
          "or", "or", "or",
          "forv","forv","fov","forv","forv","forv","forv","forv","forv","aor","aor","ao","fo",
          "forv","forv","forv","forv","forv","forv","forv","forv","aor",
          "forv","forv","forv","forv","forv","fo","fo","forv","forv","forv","forv","forv","acgos","forv","forv","fot","ao",
          "nor","no","no","nor","nor","nor","nor","nor","no","no",
          "o","o","o","o","o","fo",
          "acfgostv","afnotv" ],
         [ "Equipment",
          "or", "or", "or",
          "fiortv","fiortv","fotv","fiortv","fiortv","fiortv","fiortv","fiortv","fiortv","ao","ao","ao","fo",
          "fortv","fortv","fortv","fortv","fortv","fortv","fortv","fortv","aor",
          "cfgiorstv","cfgiorstv","cfgiorstv","cfgiorstv","cfgiorstv","fot","fot","fiortv","fiortv","fiortv","fiortv","fiortv","aio","cfgiorstv","cfgiorstv","fot","aio",
          "nor","no","no","nor","nor","nor","nor","nor","no","no",
          "o","o","o","o","o","fot",
          "acfginostv","afinortv" ],
         [ "Facility",
          "or", "or", "or",
          "fiortv","fiortv","fotv","fiortv","fiortv","fiortv","fiortv","fiortv","fiortv","ao","ao","ao","fo",
          "fortv","fortv","fortv","fortv","fortv","fortv","fortv","fortv","ao",
          "cfgiorstv","cfgiorstv","cfgiorstv","cfgiorstv","cfgiorstv","fot","fot","fiortv","fiortv","fiortv","fiortv","fiortv","aio","cfgiorstv","cfgiorstv","fot","ao",
          "nor","no","no","nor","nor","nor","nor","nor","no","no",
          "o","o","o","o","o","fot",
          "acfginostv","afinortv" ],
         [ "Distribution_Network",
          "or", "or", "or",
          "fiortv","fiortv","fotv","fiortv","fiortv","fiortv","fiortv","fiortv","fiortv","ao","ao","ao","fo",
          "fortv","fortv","fortv","fortv","fortv","fortv","fortv","fortv","aor",
          "fgiortv","fgiortv","fgiortv","fgiortv","fgiortv","fort","fot","fiortv","fiortv","fiortv","fiortv","fiortv","ao","fgiortv","fgiortv","cfgot","ao",
          "nor","no","no","nor","nor","nor","nor","nor","no","no",
          "o","o","o","o","o","fot",
          "acfginostv","afinortv" ],
         [ "Material",
          "or", "or", "or",
          "o","o","o","o","o","o","o","o","o","or","or","o","o",
          "o","o","o","o","o","o","o","o","o",
          "o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","cgos",
          "o","no","no","nor","nor","nor","nor","nor","no","no",
          "o","o","o","o","o","o",
          "cgnors","nor" ],
         [ "Stakeholder",
          "o", "o", "o",
          "o","o","o","o","o","o","o","o","o","o","o","o","o",
          "o","o","o","o","o","o","o","o","o",
          "o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o",
          "cgnos","o","o","o","o","o","o","o","o","o",
          "o","o","o","o","o","o",
          "cgnos","no" ],
         [ "Driver",
          "o", "o", "o",
          "o","o","o","o","o","o","o","o","o","o","o","o","o",
          "o","o","o","o","o","o","o","o","o",
          "o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o",
          "o","cgnos","no","no","no","no","no","no","no","no",
          "o","o","o","o","o","o",
          "cgnos","no" ],
         [ "Assessment",
          "o", "o", "o",
          "o","o","o","o","o","o","o","o","o","o","o","o","o",
          "o","o","o","o","o","o","o","o","o",
          "o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o",
          "o","no","cgnos","no","no","no","no","no","no","no",
          "o","o","o","o","o","o",
          "cgnos","no" ],
         [ "Goal",
          "o", "o", "o",
          "o","o","o","o","o","o","o","o","o","o","o","o","o",
          "o","o","o","o","o","o","o","o","o",
          "o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o",
          "o","no","no","cgnos","no","no","no","no","no","no",
          "o","o","o","o","o","o",
          "cgnos","no" ],
         [ "Outcome",
          "o", "o", "o",
          "o","o","o","o","o","o","o","o","o","o","o","o","o",
          "o","o","o","o","o","o","o","o","o",
          "o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o",
          "o","no","no","nor","cgnos","no","no","no","no","no",
          "o","o","o","o","o","o",
          "cgnors","nor" ],
         [ "Principle",
          "o", "o", "o",
          "o","o","o","o","o","o","o","o","o","o","o","o","o",
          "o","o","o","o","o","o","o","o","o",
          "o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o",
          "o","no","no","nor","nor","cgnos","no","no","no","no",
          "o","o","o","o","o","o",
          "cgnors","nor" ],
         [ "Requirement",
          "o", "o", "o",
          "o","o","o","o","o","o","o","o","o","o","o","o","o",
          "o","o","o","o","o","o","o","o","o",
          "o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o",
          "o","no","no","nor","nor","nor","cgnos","cgnos","no","no",
          "o","o","o","o","o","o",
          "cgnors","nor" ],
         [ "Constraint",
          "o", "o", "o",
          "o","o","o","o","o","o","o","o","o","o","o","o","o",
          "o","o","o","o","o","o","o","o","o",
          "o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o",
          "o","no","no","nor","nor","nor","cgnos","cgnos","no","no",
          "o","o","o","o","o","o",
          "cgnors","nor" ],
         [ "Meaning",
          "o", "o", "o",
          "o","o","o","o","o","o","o","o","o","o","o","o","o",
          "o","o","o","o","o","o","o","o","o",
          "o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o",
          "o","no","no","no","no","no","no","no","cgnos","no",
          "o","o","o","o","o","o",
          "cgnos","no" ],
         [ "Value",
          "o", "o", "o",
          "o","o","o","o","o","o","o","o","o","o","o","o","o",
          "o","o","o","o","o","o","o","o","o",
          "o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o",
          "o","no","no","no","no","no","no","no","no","cgnos",
          "o","o","o","o","o","o",
          "cgnos","no" ],
         [ "WorkPackage",
          "or", "or", "or",
          "or","or","or","or","or","or","or","or","or","or","or","or","or",
          "or","or","or","or","or","or","or","or","or",
          "or","or","or","or","or","or","or","or","or","or","or","or","or","or","or","or","or",
          "o","no","no","nor","nor","nor","nor","nor","no","no",
          "cfgost","aor","fot","ort","o","or",
          "acfgnorst","afnort" ],
         [ "Deliverable",
          "or", "or", "or",
          "or","or","or","or","or","or","or","or","or","or","or","or","or",
          "or","or","or","or","or","or","or","or","or",
          "or","or","or","or","or","or","or","or","or","or","or","or","or","or","or","or","or",
          "o","no","no","nor","nor","nor","nor","nor","no","no",
          "o","cgos","o","or","o","or",
          "cgnors","nor" ],
         [ "Implementation_Event",
          "o", "o", "o",
          "o","o","o","o","o","o","o","o","o","o","o","o","o",
          "o","o","o","o","o","o","o","o","o",
          "o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o",
          "o","no","no","no","no","no","no","no","no","no",
          "fot","ao","cfgost","ot","o","o",
          "acfgnost","afnot" ],
         [ "Plateau",
          "cgor", "cgor", "cgor",
          "cgor","cgor","cgor","cgor","cgor","cgor","cgor","cgor","cgor","cgor","cgor","cgor","cgor",
          "cgor","cgor","cgor","cgor","cgor","cgor","cgor","cgor","cgor",
          "cgor","cgor","cgor","cgor","cgor","cgor","cgor","cgor","cgor","cgor","cgor","cgor","cgor","cgor","cgor","cgor","cgor",
          "o","no","no","cgnor","nor","nor","cgnor","cgnor","no","no",
          "ot","o","ot","cgost","o","cgor",
          "cgnorst","cgnort" ],
         [ "Gap",
          "o", "o", "o",
          "o","o","o","o","o","o","o","o","o","o","o","o","o",
          "o","o","o","o","o","o","o","o","o",
          "o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o",
          "o","o","o","o","o","o","o","o","o","o",
          "o","o","o","o","cgos","o",
          "cgos","o" ],
         [ "Location",
          "cgor", "cgor", "cgor",
          "cfgiortv","cfgiortv","cfgotv","cfgiortv","cfgiortv","cfgiortv","cfgiortv","cfgiortv","cfgiortv","acgo","acgo","acgo","cfgo",
          "cfgortv","cfgortv","cfgortv","cfgiortv","cfgiortv","cfgiortv","cfgiortv","cfgiortv","acgo",
          "cfgiortv","cfgiortv","cfgiortv","cfgiortv","cfgiortv","cfgort","cfgot","cfgiortv","cfgiortv","cfgiortv","cfgiortv","cfgiortv","acgo","cfgiortv","cfgiortv","cfgot","acgo",
          "cgnor","cgno","cgno","cgnor","cgnor","cgnor","cgnor","cgnor","cgno","cgno",
          "cgo","cgo","cgo","cgo","cgo","cfgost",
          "acfginorstv","acfginortv" ] ,
         [ "Grouping",
          "cgorst", "cfgiorstv", "cfgorst",
          "cfgiorstv","cfgiortsv","cfgorstv","cfgiorstv","cfgiorstv","cfgiorstv","cfgiorstv","cfgiorstv","cfgiorstv","acgors","acgors","acgors","cfgors",
          "cfgorstv","cfgorstv","cfgorstv","cfgiorstv","cfgiortsv","cfgiorstv","cfgiorstv","cfgiorstv","acgors",
          "cfgiorstv","cfgiorstv","cfgiortsv","cfgiorstv","cfgiorstv","cfgorst","cfgorst","cfgiorstv","cfgiortv","cfgiorstv","cfgiorstv","cfgiorstv","acgiors","cfgiorstv","cfgiorstv","cfgorst","acgiors",
          "cgninors","cgnos","cgnos","cgnors","cgnors","cgnors","cgnors","cgnors","cgnos","cgnos",
          "cfgiost","acgors","cfgiost","cgorst","cgos","cfgorst",
          "acfginorstv","acfginortv" ],
         [ "Junction",
          "fort", "fiortv", "fortv",
          "fiortv","fiortv","fortv","fiortv","fiortv","fiortv","fiortv","fiortv","fiortv","aor","aor","aor","for",
          "fortv","fortv","fortv","fiortv","fiortv","fiortv","fiortv","fiortv","aor",
          "fiortv","fiortv","fiortv","fiortv","fiortv","fort","fort","fiortv","fiortv","fiortv","fiortv","fiortv","aior","fiortv","fiortv","fort","aior",
          "inor","no","no","nor","nor","nor","nor","nor","no","no",
          "fiot","aor","fiot","ort","o","fort",
          "afinortv","afinortv" ]
         ];
         
         
         //Creation of RelationArrays which is a matrix the list of entities which are in the domain or in the range of the relation, and is used in order to define all the nodes of the network for describing the relation
         for (var i = 0; i <57; i++) {for (var j = 1; j <59 ; j++) {if (ArchiMateRelations[i][j].indexOf("a")>=0){AccessRelationArray[i]=1;AccessRelationArray[j-1]=1;};};};
         for (var i = 0; i <57; i++) {for (var j = 1; j <59 ; j++) {if (ArchiMateRelations[i][j].indexOf("c")>=0){CompositionRelationArray[i]=1;CompositionRelationArray[j-1]=1;};};};
         for (var i = 0; i <57; i++) {for (var j = 1; j <59 ; j++) {if (ArchiMateRelations[i][j].indexOf("f")>=0){FlowRelationArray[i]=1;FlowRelationArray[j-1]=1;};};};
         for (var i = 0; i <57; i++) {for (var j = 1; j <59 ; j++) {if (ArchiMateRelations[i][j].indexOf("g")>=0){AggregationRelationArray[i]=1;AggregationRelationArray[j-1]=1;};};};
         for (var i = 0; i <57; i++) {for (var j = 1; j <59 ; j++) {if (ArchiMateRelations[i][j].indexOf("i")>=0){AssignmentRelationArray[i]=1;AssignmentRelationArray[j-1]=1;};};};
         for (var i = 0; i <57; i++) {for (var j = 1; j <59 ; j++) {if (ArchiMateRelations[i][j].indexOf("n")>=0){InfluenceRelationArray[i]=1;InfluenceRelationArray[j-1]=1;};};};
         for (var i = 0; i <57; i++) {for (var j = 1; j <59 ; j++) {if (ArchiMateRelations[i][j].indexOf("r")>=0){RealizationRelationArray[i]=1;RealizationRelationArray[j-1]=1;};};};
         for (var i = 0; i <57; i++) {for (var j = 1; j <59 ; j++) {if (ArchiMateRelations[i][j].indexOf("s")>=0){SpecializationRelationArray[i]=1;SpecializationRelationArray[j-1]=1;};};};
         for (var i = 0; i <57; i++) {for (var j = 1; j <59 ; j++) {if (ArchiMateRelations[i][j].indexOf("t")>=0){TriggeringRelationArray[i]=1;TriggeringRelationArray[j-1]=1;};};};
         for (var i = 0; i <57; i++) {for (var j = 1; j <59 ; j++) {if (ArchiMateRelations[i][j].indexOf("v")>=0){ServingRelationArray[i]=1;ServingRelationArray[j-1]=1;};};};

        edges = [];      nodes = [];
        nodes.push({id: 0, shape: 'image',label: 'ArchiMagine Dynamic Viewer', image:  './lib/img/ArchiMagine_DMN.svg', shape: 'image'});
        nodes.push({id: 1, shape: 'image', image: './lib/img/Imagine.png', shape: 'image'});
        nodes.push({id: 2, shape: 'image', image: './lib/img/archimagine.png', shape: 'image'});
        nodes.push({id: 3, shape: 'image', image: './lib/img/vis.svg', shape: 'image'});
        nodes.push({id: 4, shape: 'image', image: './lib/img/LogoArchimate.png', shape: 'image'});
        edges.push({from: 0, to: 1,  arrows:'to'});
        edges.push({from: 0, to: 2,  arrows:'to'});
        edges.push({from: 0, to: 3,  arrows:'to'});
        edges.push({from: 0, to: 4,  arrows:'to'});


         var data = {
             nodes: nodes,
             edges: edges
         };
         var container = document.getElementById('mynetwork');

         
         var options = {interaction:{hover:false},

           "edges": {
    "smooth": {
      "forceDirection": "none"
    }
  },
  "physics": {
    "barnesHut": {
      "gravitationalConstant":  -100000,
      "centralGravity": 10,
      "damping": 0.5,
      "avoidOverlap": 0
    }},

         
                        configure: false,

         };
         document.getElementById("mynetwork").innerHTML = "";
         network = new vis.Network(container, data, options);


         network.on("doubleClick", function (params) {
                    params.event = "[original event]";
                    document.getElementById('eventSpan').innerHTML = '<h2>doubleClick event:</h2>' + JSON.stringify(params, null, 4);
                    draw();
                    });
          network.on("click", function (params) {
                    params.event = "[original event]";
                    document.getElementById('eventSpan').innerHTML = '<h2>Click event:</h2>' + JSON.stringify(params, null, 4);
                    console.log('click event, getNodeAt returns: ' + this.getNodeAt(params.pointer.DOM));
                    });

          network.on("oncontext", function (params) {
                    params.event = "[original event]";
                    document.getElementById('eventSpan').innerHTML = '<h2>oncontext (right click) event:</h2>' + JSON.stringify(params, null, 4);
                    });
          network.on("dragStart", function (params) {
                    params.event = "[original event]";
                    document.getElementById('eventSpan').innerHTML = '<h2>dragStart event:</h2>' + JSON.stringify(params, null, 4);
                    });
          network.on("dragging", function (params) {
                    params.event = "[original event]";
                    document.getElementById('eventSpan').innerHTML = '<h2>dragging event:</h2>' + JSON.stringify(params, null, 4);
                    });
          network.on("dragEnd", function (params) {
                    params.event = "[original event]";
                    document.getElementById('eventSpan').innerHTML = '<h2>dragEnd event:</h2>' + JSON.stringify(params, null, 4);
                    });
          network.on("zoom", function (params) {
                    document.getElementById('eventSpan').innerHTML = '<h2>zoom event:</h2>' + JSON.stringify(params, null, 4);
                    });
          network.on("showPopup", function (params) {
                    document.getElementById('eventSpan').innerHTML = '<h2>showPopup event: </h2>' + JSON.stringify(params, null, 4);
                    });
          network.on("hidePopup", function () {
                    console.log('hidePopup Event');
                    });
          network.on("select", function (params) {
                    console.log('select Event:', params);
                    });
          network.on("selectNode", function (params) {
                    console.log('selectNode Event:', params);
                    });
          network.on("selectEdge", function (params) {
                    console.log('selectEdge Event:', params);
                    });
         network.on("deselectNode", function (params) {
                    console.log('deselectNode Event:', params);
                    });
         network.on("deselectEdge", function (params) {
                    console.log('deselectEdge Event:', params);
                    });
         network.on("hoverNode", function (params) {
                    console.log('hoverNode Event:', params);
                    });
         network.on("hoverEdge", function (params) {
                    console.log('hoverEdge Event:', params);
                   });
         network.on("blurNode", function (params) {
                   console.log('blurNode Event:', params);
                   });
         network.on("blurEdge", function (params) {
                   console.log('blurEdge Event:', params);
                   });
         document.getElementById("relation").addEventListener("change", function(){
                   if (document.getElementById("relation").selectedIndex=="0"){document.getElementById("entitiesCheck").style.display='block';}
                   else{document.getElementById("entitiesCheck").style.display='none';};
                   draw();
                   });
                                                                        
         document.getElementById("eventDisplay").addEventListener("change", function(){
                   if (document.getElementById("eventDisplay").checked){ document.getElementById("eventSpan").style.display='block';}
                   else{document.getElementById("eventSpan").style.display='none';};
                   });
                                                                                                                                 
         document.getElementById("parameterDisplay").addEventListener("change", function(){
                   if (document.getElementById("parameterDisplay").selectedIndex=="0"){
                      var options = {interaction:{hover:false},
                                     physics:{enabled: true, timestep: 0.5, adaptiveTimestep: true, maxVelocity: 50, minVelocity: 0.1, solver: 'barnesHut',
                                     barnesHut: { gravitationalConstant: -1000, centralGravity: 0.1, springLength: 95, springConstant: 0.04, damping: 0.09, avoidOverlap: 0}},
                                     configure: { filter:function (option, path) {
                                                if (path.indexOf('physics') !== -1) { return true;}
                                                if (path.indexOf('smooth') !== -1 || option === 'smooth') {return true;} return false;},
                                     container: document.getElementById('mynetwork2')}
                                    };
                     }
                  else{
                        var options = {interaction:{hover:false},
                        physics:{enabled: true, timestep: 0.5, adaptiveTimestep: true, maxVelocity: 50, minVelocity: 0.1, solver: 'barnesHut',
                        barnesHut: { gravitationalConstant: -1000, centralGravity: 0.1, springLength: 95, springConstant: 0.04, damping: 0.09, avoidOverlap: 0}},
                        configure: false}
                     };
                     draw();
                     });


};



</script>
  

<body onload="initArchiMate();">

<div id="block">
    <div id="toolName">ArchiMagine Dynamic Graph Viewer</div>
    <div id="toolDescription">The ArchiMate language constructs dynamic interactive graph (powered by vis.js).</div>
    <div id="toolVersion">Version 0.1 by Nicolas Figay, the 4th of November, 2017</div>
    <div id="toolUsage">Usage: select a relation or double click on the diagram.</div>
    <div id="container"></div>


    <div id="relationsDisplay">
        <p><b>Representing a relation: select one relation: </b>
        <select id="relation" >
            <option value="">none</option>
            <option value="a">Access</option>
            <option value="c">Composition</option>
            <option value="f">Flow</option>
            <option value="g">Aggregation</option>
            <option value="i">Assignment</option>
            <option value="n">Influence</option>
            <option value="r">Realization</option>
            <option value="s">Specialization</option>
            <option value="t">Triggering</option>
            <option value="s">Serving</option>
        </select>
    </div>
    <div id="entitiesCheck">
        <p><b>Representing entities: selecting entities and relations between them to be displayed </b></p><p>
        <p><U>Strategy</U>: Resource: <input type="checkbox" class="entitiesCheckbox" id="resource" value="0" >
            Capability:<input type="checkbox" class="entitiesCheckbox" id="capability" value="1" >
            Course_Of_Action:<input type="checkbox" class="entitiesCheckbox" id="course_of_action" value="2" ></p>
        <p><U>Business</U>: Actor:<input type="checkbox" class="entitiesCheckbox" id="actor" value="3" >
            Role:<input type="checkbox" class="entitiesCheckbox" id="business_role" value="4" >
            Collaboration:<input type="checkbox" class="entitiesCheckbox" id="business_collaboration" value="5" >
            Business_Interface:<input type="checkbox"  class="entitiesCheckbox" id="business_interface" value="6"  >
            Process:<input type="checkbox" class="entitiesCheckbox" id="business_process" value="7"  >
            Function:<input type="checkbox" class="entitiesCheckbox" id="business_function" value="8" >
            Interaction:<input type="checkbox" class="entitiesCheckbox" id="business_interaction" value="9" >
            Event:<input type="checkbox" class="entitiesCheckbox" id="business_event" value="10" >
            Service:<input type="checkbox" class="entitiesCheckbox" id="business_service" value="11" >
            Object:<input type="checkbox" class="entitiesCheckbox" id="business_object" value="12" >
            Contract:<input type="checkbox" class="entitiesCheckbox" id="contract" value="13" >
            Representation:<input type="checkbox" class="entitiesCheckbox" id="representation" value="14" >
            Product:<input type="checkbox" class="entitiesCheckbox" id="product" value="15" ></p>
        <p><U>Application</U>: Component:<input type="checkbox" class="entitiesCheckbox" id="application_component" value="16" >
            Collaboration:<input type="checkbox" class="entitiesCheckbox" id="application_collaboration" value="17" >
            Interface:<input type="checkbox" class="entitiesCheckbox" id="application_interface" value="18" >
            Function:<input type="checkbox" class="entitiesCheckbox" id="application_function" value="19" >
            Interaction:<input type="checkbox" class="entitiesCheckbox" id="application_interaction" value="20" >
            Process:<input type="checkbox" class="entitiesCheckbox" id="application_process" value="21" >
            Application_Event:<input type="checkbox" class="entitiesCheckbox" id="application_event" value="22" >
            Service:<input type="checkbox" class="entitiesCheckbox" id="application_service" value="23" >
            Data Object:<input type="checkbox" class="entitiesCheckbox" id="data_object" value="24" ></p>
        <p><U>Physical</U>: Node:<input type="checkbox" class="entitiesCheckbox" id="node" value="25" >
            Device:<input type="checkbox" class="entitiesCheckbox" id="device" value="26" >
            System Software:<input type="checkbox" class="entitiesCheckbox" id="system_software" value="27" >
            Collaboration:<input type="checkbox" class="entitiesCheckbox" id="technology_collaboration" value="28" >
            Interface:<input type="checkbox" class="entitiesCheckbox" id="technology_interface" value="29" >
            Path:<input type="checkbox" class="entitiesCheckbox" id="path" value="30" >
            Communication Network:<input type="checkbox" class="entitiesCheckbox" id="communication_network" value="31" >
            Function:<input type="checkbox" class="entitiesCheckbox" id="technology_function" value="32" >
            Process:<input type="checkbox" class="entitiesCheckbox" id="technology_process" value="33" >
            Interaction:<input type="checkbox" class="entitiesCheckbox" id="technology_interaction" value="34" >
            Event:<input type="checkbox" class="entitiesCheckbox" id="technology_event" value="35" >
            Service:<input type="checkbox" class="entitiesCheckbox" id="technology_service" value="36" >
            Artifact:<input type="checkbox" class="entitiesCheckbox" id="artifact" value="37" >
            Equipment:<input type="checkbox" class="entitiesCheckbox" id="equipment" value="38" >
            Facility:<input type="checkbox" class="entitiesCheckbox" id="facility" value="39" >
            Distribution Network:<input type="checkbox" class="entitiesCheckbox" id="distribution_network" value="40" >
            Material:<input type="checkbox" class="entitiesCheckbox" id="material" value="41" ></p>
        <p><U>Motivation</U>: Stakeholder:<input type="checkbox" class="entitiesCheckbox" id="stakeholder" value="42" >
            Driver:<input type="checkbox" class="entitiesCheckbox" id="stakeholder" value="43" >
            Assessment:<input type="checkbox" class="entitiesCheckbox" id="assessment" value="44"  >
            Goal:<input type="checkbox" class="entitiesCheckbox" id="goal" value="45" >
            Outcome:<input type="checkbox" class="entitiesCheckbox" id="outcome" value="47">
            Principle:<input type="checkbox" class="entitiesCheckbox" id="principle" value="48" >
            Requirement:<input type="checkbox" class="entitiesCheckbox" id="requirement" value="49" >
            Constraint:<input type="checkbox" class="entitiesCheckbox" id="constraint" value="50" >
            Meaning:<input type="checkbox" class="entitiesCheckbox" id="meaning" value="51" >
            Value:<input type="checkbox" class="entitiesCheckbox" id="value" value="52" >
        <p><U>Project Implementation</U>: WorkPackage:<input type="checkbox" class="entitiesCheckbox" id="workPackage" value="53" >
            Deliverable:<input type="checkbox" class="entitiesCheckbox" id="deliverable" value="54" >
            Implementation_Event:<input type="checkbox" class="entitiesCheckbox" id="implementation_event" value="55" >
            Plateau:<input type="checkbox" class="entitiesCheckbox" id="plateau" value="56" >
            Gap:<input type="checkbox" class="entitiesCheckbox" id="gap" value="57" ></p>
        <p><U>Other</U>: Location:<input type="checkbox" class="entitiesCheckbox" id="location" value="58"  >
        <U>Layers</U><input type="checkbox" class="layersCheckbox" id="layers" checked> </p>
        <div id="relationsCheck">
            <p><b>Relations </b></p><p>Access(a):<input type="checkbox" class="relationsCheckbox" id="access" value="a" >
                  Composition(c):<input type="checkbox" class="relationsCheckbox" id="composition" value="c">
                  Flow(f):<input type="checkbox" class="relationsCheckbox" id="flow" value="f">
                  Aggregation(g):<input type="checkbox" class="relationsCheckbox" id="aggregation" value="g">
                  Assignment(i):<input type="checkbox" class="relationsCheckbox" id="assignment" value="i">
                  Influence(n):<input type="checkbox" class="relationsCheckbox" id="influence" value="n">
                  Realization(r):<input type="checkbox" class="relationsCheckbox" id="realization" value="r">
                  Specialization(s):<input type="checkbox" class="relationsCheckbox" id="specialization" value="s">
                  Triggering(t):<input type="checkbox" class="relationsCheckbox" id="triggering" value="t">
                  Serving(v):<input type="checkbox" class="relationsCheckbox" id="serving" value="v"></p></div>
    </div>

    <div id="display"><input type="checkbox" id="parameterDisplay" name="parameterDisplay" value="parameterDisplay"><label for="parameterDisplay">Display physics paramaterization</label><input type="checkbox" id="eventDisplay"     name="eventDisplay"     value="eventDisplay">    <label for="eventDisplay">Display event</label></div>
    <div id="mynetwork"></div>
    <div id="mynetwork2"></div>
    <pre id="eventSpan"></pre>
    <pre id="configureDisplay"></pre>
    

</div>
<div id="network-popUp">
    <span id="operation">node</span> <br>
    <table style="margin:auto;"><tr>
        <td>id</td><td><input id="node-id" value="new value" /></td>
    </tr>
    <tr>
        <td>label</td><td><input id="node-label" value="new value" /></td>
    </tr></table>
    <input type="button" value="save" id="saveButton" />
    <input type="button" value="cancel" id="cancelButton" />
</div>
<br />

</body>
</html>
